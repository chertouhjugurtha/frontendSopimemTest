"use strict";(self["webpackChunksopimem"]=self["webpackChunksopimem"]||[]).push([[710],{1710:function(e,l,a){a.r(l),a.d(l,{default:function(){return bl}});var n=a(6252),o=a(3577);const i={class:"stepsdemo-content"},t={key:0,for:"raison_social"},d={key:1,for:"raison_social"},s={key:2,for:"raison_social"},r=(0,n._)("span",null,[(0,n._)("p",{style:{"font-size":"12px"}},[(0,n.Uk)("("),(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* "),(0,n.Uk)("): Des champs obligatoires à saisire "),(0,n._)("br"),(0,n.Uk)(" ("),(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? "),(0,n.Uk)("): Des champs optionnels à saisire")]),(0,n._)("br")],-1),m={class:"p-fluid grid"},c={key:0,class:"field col-12 lg:col-4 md:col-6 sm:col-6"},u={class:"p-float-label"},p=(0,n._)("label",{for:"numFacture"},[(0,n.Uk)(" Rechercher La facture ("),(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* "),(0,n.Uk)(") ")],-1),v={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},_={class:"p-float-label"},$=(0,n.Uk)(" Type Piece I.N ("),f=(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* ",-1),h=(0,n.Uk)(") "),g=[$,f,h],y={key:0,class:"p-error"},b={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},C={class:"p-float-label"},w=(0,n.Uk)(" Nome De La Piece ("),k=(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* ",-1),x=(0,n.Uk)(") "),V=[w,k,x],A={key:0,class:"p-error"},U={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},W={class:"p-float-label"},D=(0,n.Uk)(" Nom ("),T=(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* ",-1),P=(0,n.Uk)(") "),N=[D,T,P],L={key:0,class:"p-error"},H={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},F={class:"p-float-label"},z=(0,n.Uk)(" Prénom ("),I=(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* ",-1),q=(0,n.Uk)(") "),E=[z,I,q],S={key:0,class:"p-error"},Z={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},R={class:"p-float-label"},B=(0,n.Uk)(" N:Tél("),j=(0,n._)("i",{class:"text-red-400 font-large",style:{"font-size":"18px"}},"* ",-1),O=(0,n.Uk)(") "),M=[B,j,O],K={key:0,class:"p-error"},X={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},Y={class:"p-float-label"},G=(0,n.Uk)(" Date de naissance ("),J=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),Q=(0,n.Uk)(") "),ee=[G,J,Q],le={key:0,class:"p-error"},ae={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},ne={class:"p-float-label"},oe=(0,n.Uk)(" Adresse ("),ie=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),te=(0,n.Uk)(") "),de=[oe,ie,te],se={key:0,class:"p-error"},re={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},me={class:"p-float-label"},ce=(0,n.Uk)(" Wilaya("),ue=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),pe=(0,n.Uk)(") "),ve=[ce,ue,pe],_e={key:0,class:"p-error"},$e={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},fe={class:"p-float-label"},he=(0,n.Uk)(" Commune("),ge=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),ye=(0,n.Uk)(") "),be=[he,ge,ye],Ce={key:0,class:"p-error"},we={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},ke={class:"p-float-label"},xe=(0,n.Uk)(" N:°Fax("),Ve=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),Ae=(0,n.Uk)(") "),Ue=[xe,Ve,Ae],We={key:0,class:"p-error"},De={class:"field col-12 lg:col-4 md:col-6 sm:col-6"},Te={class:"p-float-label"},Pe=(0,n.Uk)(" E-mail("),Ne=(0,n._)("i",{class:"text-green-400 font-large",style:{"font-size":"18px"}},"? ",-1),Le=(0,n.Uk)(") "),He=[Pe,Ne,Le],Fe={key:0,class:"p-error"},ze={class:"grid grid-nogutter justify-content-between"},Ie=(0,n._)("i",null,null,-1),qe={class:"field col-12"},Ee=(0,n._)("br",null,null,-1),Se={class:"p-fluid grid"},Ze={class:"field col-6"},Re={class:"p-float-label"},Be=(0,n._)("label",{for:"name"},"Numéro de la facture ",-1),je={class:"field col-6"},Oe={class:"p-float-label"},Me=(0,n._)("label",{for:"name"},"Nombre de tranche ",-1),Ke={class:"field col-6"},Xe={class:"p-float-label"},Ye=(0,n._)("label",null,"Experation du contrat",-1),Ge={class:"p-tag"},Je={class:"field col-6"},Qe={class:"p-float-label"},el=(0,n._)("label",null,"Prochaine Rendez-vous Prévue",-1),ll={class:"field col-6"},al={class:"p-float-label"},nl=(0,n._)("label",{for:"prix_prevue"},"Montant Prévu ",-1),ol={class:"field col-6"},il={class:"p-float-label"},tl=(0,n._)("label",null,"Prochaine Rendez-vous Réaliser",-1),dl={class:"field col-6"},sl={class:"p-float-label"},rl=(0,n._)("label",{for:"name"},"Montant Réaliser ",-1);function ml(e,l,a,$,f,h){const w=(0,n.up)("Divider"),k=(0,n.up)("InputMask"),x=(0,n.up)("Dropdown"),D=(0,n.up)("InputText"),T=(0,n.up)("Calendar"),P=(0,n.up)("Button"),z=(0,n.up)("Toast"),I=(0,n.up)("Card"),q=(0,n.up)("InputNumber"),B=(0,n.up)("Dialog");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(I,null,{title:(0,n.w5)((()=>[(0,n.Wm)(w,{align:"center",type:"dotted"},{default:(0,n.w5)((()=>["ar"==$.localeLang?((0,n.wg)(),(0,n.iD)("label",t,(0,o.zw)(e.ar.headerstep),1)):"fr"==$.localeLang?((0,n.wg)(),(0,n.iD)("label",d,(0,o.zw)(e.fr.headerstep),1)):((0,n.wg)(),(0,n.iD)("label",s,(0,o.zw)(e.en.headerstep),1))])),_:1}),r])),content:(0,n.w5)((()=>[(0,n._)("div",m,["/canvas/search"==e.$route.path?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("span",u,[(0,n.Wm)(k,{mask:"aa-99-9999",id:"numFacture",modelValue:$.numFacture,"onUpdate:modelValue":l[0]||(l[0]=e=>$.numFacture=e),onChange:l[1]||(l[1]=e=>$.getFactureExist())},null,8,["modelValue"]),p])])):(0,n.kq)("",!0),(0,n._)("div",v,[(0,n._)("span",_,[(0,n.Wm)(x,{id:"dropdown",modelValue:$.vAdd$.type_piece.$model,"onUpdate:modelValue":l[2]||(l[2]=e=>$.vAdd$.type_piece.$model=e),options:$.typePieceClass,optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),(0,n._)("label",{for:"dropdown",class:(0,o.C_)({"p-error":$.vAdd$.type_piece.$invalid&&$.submitted})},g,2),$.vAdd$.type_piece.$invalid&&$.submitted||$.vAdd$.type_piece.$pending.$response?((0,n.wg)(),(0,n.iD)("small",y,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",b,[(0,n._)("span",C,[(0,n.Wm)(k,{mask:"99-999999999-999999999999999999",id:"numPiece",modelValue:$.vAdd$.num_piece.$model,"onUpdate:modelValue":l[3]||(l[3]=e=>$.vAdd$.num_piece.$model=e),onChange:l[4]||(l[4]=e=>$.getClientExist())},null,8,["modelValue"]),(0,n._)("label",{for:"nation",class:(0,o.C_)({"p-error":$.vAdd$.num_piece.$invalid&&$.submitted})},V,2),$.vAdd$.num_piece.$invalid&&$.submitted||$.vAdd$.num_piece.$pending.$response?((0,n.wg)(),(0,n.iD)("small",A,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",U,[(0,n._)("span",W,[(0,n.Wm)(D,{id:"nom",modelValue:$.vAdd$.nom.$model,"onUpdate:modelValue":l[5]||(l[5]=e=>$.vAdd$.nom.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"nation",class:(0,o.C_)({"p-error":$.vAdd$.nom.$invalid&&$.submitted})},N,2),$.vAdd$.nom.$invalid&&$.submitted||$.vAdd$.nom.$pending.$response?((0,n.wg)(),(0,n.iD)("small",L,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",H,[(0,n._)("span",F,[(0,n.Wm)(D,{id:"prenom",modelValue:$.vAdd$.prenom.$model,"onUpdate:modelValue":l[6]||(l[6]=e=>$.vAdd$.prenom.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"prenom",class:(0,o.C_)({"p-error":$.vAdd$.prenom.$invalid&&$.submitted})},E,2),$.vAdd$.prenom.$invalid&&$.submitted||$.vAdd$.prenom.$pending.$response?((0,n.wg)(),(0,n.iD)("small",S,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",Z,[(0,n._)("span",R,[(0,n.Wm)(k,{id:"phoneClient",mask:"(213) 9-99-99-99-99",modelValue:$.vAdd$.phoneClient.$model,"onUpdate:modelValue":l[7]||(l[7]=e=>$.vAdd$.phoneClient.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"phoneClient",class:(0,o.C_)({"p-error":$.vAdd$.phoneClient.$invalid&&$.submitted})},M,2),$.vAdd$.phoneClient.$invalid&&$.submitted||$.vAdd$.phoneClient.$pending.$response?((0,n.wg)(),(0,n.iD)("small",K,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",X,[(0,n._)("span",Y,[(0,n.Wm)(T,{id:"date_naissance",modelValue:$.vAdd$.date_naissance.$model,"onUpdate:modelValue":l[8]||(l[8]=e=>$.vAdd$.date_naissance.$model=e),showIcon:!0,dateFormat:"dd-mm-yy"},null,8,["modelValue"]),(0,n._)("label",{for:"date_naissance",class:(0,o.C_)({"p-error":$.vAdd$.date_naissance.$invalid&&$.submitted})},ee,2),$.vAdd$.date_naissance.$invalid&&$.submitted||$.vAdd$.date_naissance.$pending.$response?((0,n.wg)(),(0,n.iD)("small",le,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",ae,[(0,n._)("span",ne,[(0,n.Wm)(D,{id:"nom",modelValue:$.vAdd$.adresseClient.$model,"onUpdate:modelValue":l[9]||(l[9]=e=>$.vAdd$.adresseClient.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"nom",class:(0,o.C_)({"p-error":$.vAdd$.adresseClient.$invalid&&$.submitted})},de,2),$.vAdd$.adresseClient.$invalid&&$.submitted||$.vAdd$.adresseClient.$pending.$response?((0,n.wg)(),(0,n.iD)("small",se,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",re,[(0,n._)("span",me,[(0,n.Wm)(x,{id:"wilaya",filter:!0,modelValue:$.vAdd$.wilaya.$model,"onUpdate:modelValue":l[10]||(l[10]=e=>$.vAdd$.wilaya.$model=e),options:$.Wilayas,optionLabel:"ar"==$.localeLang?"ar_name":"name",optionValue:"code",onChange:l[11]||(l[11]=e=>$.getCommuneByWilaya())},null,8,["modelValue","options","optionLabel"]),(0,n._)("label",{for:"wilaya",class:(0,o.C_)({"p-error":$.vAdd$.wilaya.$invalid&&$.submitted})},ve,2),$.vAdd$.wilaya.$invalid&&$.submitted||$.vAdd$.wilaya.$pending.$response?((0,n.wg)(),(0,n.iD)("small",_e,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",$e,[(0,n._)("span",fe,[(0,n.Wm)(x,{editable:!0,id:"dropdown",filter:!0,modelValue:$.vAdd$.commune.$model,"onUpdate:modelValue":l[12]||(l[12]=e=>$.vAdd$.commune.$model=e),options:$.communesByWilaya,optionLabel:"ar"==$.localeLang?"commune_name":"commune_name_ascii",optionValue:"id"},null,8,["modelValue","options","optionLabel"]),(0,n._)("label",{for:"dropdown",class:(0,o.C_)({"p-error":$.vAdd$.commune.$invalid&&$.submitted})},be,2),$.vAdd$.commune.$invalid&&$.submitted||$.vAdd$.commune.$pending.$response?((0,n.wg)(),(0,n.iD)("small",Ce,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",we,[(0,n._)("span",ke,[(0,n.Wm)(k,{mask:"(213) 9-99-99-99-99",modelValue:$.vAdd$.faxClient.$model,"onUpdate:modelValue":l[13]||(l[13]=e=>$.vAdd$.faxClient.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"commune",class:(0,o.C_)({"p-error":$.vAdd$.faxClient.$invalid&&$.submitted})},Ue,2),$.vAdd$.faxClient.$invalid&&$.submitted||$.vAdd$.faxClient.$pending.$response?((0,n.wg)(),(0,n.iD)("small",We,"ce champ est obligatoire")):(0,n.kq)("",!0)])]),(0,n._)("div",De,[(0,n._)("span",Te,[(0,n.Wm)(D,{id:"emailClient",modelValue:$.vAdd$.emailClient.$model,"onUpdate:modelValue":l[14]||(l[14]=e=>$.vAdd$.emailClient.$model=e)},null,8,["modelValue"]),(0,n._)("label",{for:"emailClient",class:(0,o.C_)({"p-error":$.vAdd$.emailClient.$invalid&&$.submitted})},He,2),$.vAdd$.emailClient.$invalid&&$.submitted||$.vAdd$.emailClient.$pending.$response?((0,n.wg)(),(0,n.iD)("small",Fe,"ce champ est obligatoire")):(0,n.kq)("",!0)])])])])),footer:(0,n.w5)((()=>[(0,n._)("div",ze,[Ie,(0,n.Wm)(P,{label:"/canvas/search"==e.$route.path?"Ajouter":"Suivant",onClick:l[15]||(l[15]=l=>"/canvas/search"==e.$route.path?$.showDialogueTranche($.numFacture):$.nextPage1()),icon:"ar"==$.localeLang?"pi pi-angle-left":"pi pi-angle-right",iconPos:"right"},null,8,["label","icon"])])])),default:(0,n.w5)((()=>[(0,n.Wm)(z)])),_:1}),(0,n.Wm)(B,{visible:$.showTrancheInput,"onUpdate:visible":l[23]||(l[23]=e=>$.showTrancheInput=e),style:{width:"750px"},header:"Renseignements sur la facture",modal:!0,class:"p-fluid"},{footer:(0,n.w5)((()=>[(0,n.Wm)(P,{label:"Annuler",icon:"pi pi-check",class:"p-button-text",onClick:l[21]||(l[21]=e=>$.cancelTranche())}),(0,n.Wm)(P,{label:"Enregestrer",icon:"pi pi-check",class:"p-button-text",onClick:l[22]||(l[22]=e=>$.addTranche($.dataTranche))})])),default:(0,n.w5)((()=>[(0,n._)("div",qe,[(0,n.Wm)(w,{align:"center"},{default:(0,n.w5)((()=>[(0,n._)("span",null,[(0,n.Wm)(P,{onClick:l[16]||(l[16]=e=>$.modifierLock=!$.modifierLock),icon:$.modifierLock?"pi pi-lock":"pi pi-lock-open",class:"p-button-rounded p-button-warning"},null,8,["icon"])])])),_:1})]),Ee,(0,n._)("div",Se,[(0,n._)("div",Ze,[(0,n._)("span",Re,[(0,n.Wm)(D,{disabled:!0,id:"name",modelValue:$.dataTranche.num_facture,"onUpdate:modelValue":l[17]||(l[17]=e=>$.dataTranche.num_facture=e)},null,8,["modelValue"]),Be])]),(0,n._)("div",je,[(0,n._)("span",Oe,[(0,n.Wm)(D,{disabled:!0,inputId:"mile",id:"name",modelValue:$.dataTranche.tranches_data.length,"onUpdate:modelValue":l[18]||(l[18]=e=>$.dataTranche.tranches_data.length=e)},null,8,["modelValue"]),Me])]),(0,n._)("div",Ke,[(0,n._)("span",Xe,[0===$.dataTranche.last_tranche.length?((0,n.wg)(),(0,n.j4)(T,{key:0,modelValue:$.dataTranche.fin_contrat,"onUpdate:modelValue":l[19]||(l[19]=e=>$.dataTranche.fin_contrat=e),showIcon:!0,dateFormat:"dd-mm-yy"},null,8,["modelValue"])):((0,n.wg)(),(0,n.j4)(D,{key:1,disabled:!0,modelValue:$.dataTranche.fin_contrat,"onUpdate:modelValue":l[20]||(l[20]=e=>$.dataTranche.fin_contrat=e),showIcon:!0,dateFormat:"dd-mm-yy"},null,8,["modelValue"])),Ye])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.dataTranche.tranches_data,((e,l)=>((0,n.wg)(),(0,n.iD)("div",{key:l,class:"grid col-12"},[(0,n.Wm)(w,{align:"center"},{default:(0,n.w5)((()=>[(0,n._)("span",Ge,"Tranche "+(0,o.zw)(e.num_tranche),1)])),_:2},1024),(0,n._)("div",Je,[(0,n._)("span",Qe,[(0,n.Wm)(T,{readonly:$.modifierLock,disabled:$.modifierLock,modelValue:e.prochaine_rdv_prevue,"onUpdate:modelValue":l=>e.prochaine_rdv_prevue=l,showIcon:!0,dateFormat:"yy-mm-dd"},null,8,["readonly","disabled","modelValue","onUpdate:modelValue"]),el])]),(0,n._)("div",ll,[(0,n._)("span",al,[(0,n.Wm)(q,{readonly:$.modifierLock,disabled:$.modifierLock,"aria-labelledby":"prix_prevue",showButtons:"",modelValue:e.prix_prevue,"onUpdate:modelValue":l=>e.prix_prevue=l,mode:"currency",currency:"DZD"},null,8,["readonly","disabled","modelValue","onUpdate:modelValue"]),nl])]),(0,n._)("div",ol,[(0,n._)("span",il,[(0,n.Wm)(T,{modelValue:e.prochaine_rdv_realise,"onUpdate:modelValue":l=>e.prochaine_rdv_realise=l,readonly:e.opend_status,disabled:e.opend_status,showIcon:!0,dateFormat:"yy-mm-dd"},null,8,["modelValue","onUpdate:modelValue","readonly","disabled"]),tl])]),(0,n._)("div",dl,[(0,n._)("span",sl,[(0,n.Wm)(q,{inputId:"mile",min:0,id:"name",readonly:e.opend_status,disabled:e.opend_status,showButtons:"",modelValue:e.prix_realise,"onUpdate:modelValue":l=>e.prix_realise=l,mode:"currency",currency:"DZD"},null,8,["readonly","disabled","modelValue","onUpdate:modelValue"]),rl])])])))),128))])])),_:1},8,["visible"])])}var cl=a(9201),ul=a(2262),pl=a(3907),vl=a(7379),_l=a(7877),$l=a(2587),fl=a(4028),hl=(a(9645),{emits:["nextpage"],setup(e,{emit:l}){const a={nom:{required:$l.C1},prenom:{required:$l.C1},type_piece:{required:$l.C1},num_piece:{required:$l.C1},phoneClient:{required:$l.C1},adresseClient:{},wilaya:{},commune:{},faxClient:{},date_naissance:{},emailClient:{},adresse:{}},o=(0,ul.iH)(!0),i=(0,ul.iH)({nom:"",prenom:"",type_piece:"",num_piece:"",phoneClient:"",adresseClient:"",wilaya:"",commune:"",faxClient:"",date_naissance:"",emailClient:"",adresse:""}),t=(0,fl.Xw)(a,i.value),d=(0,ul.iH)(""),s=(0,pl.oR)(),r=(0,ul.iH)(!1),m=(0,cl.p)(),c=(0,ul.iH)("Non"),u=(0,ul.iH)(["Non","Oui"]),p=(0,ul.qj)({ar:{headerstep:"Information du Client",numfacture:"N° Facture",firstname:"Nom",lastname:"Prénom",dateNaissance:"Date de naissance",adresse:"Adresse précise du client",wilaya:"Wilaya",commune:"Commune",numPiece:"Numéro de la piece d'identité",typePiece:"Type de la piece d'identité",telephone:"Téléphone",fax:"Fax",email:"E-mail"},fr:{headerstep:"Information du Client",numfacture:"N° Facture",firstname:"Nom",lastname:"Prénom",dateNaissance:"Date de naissance",adresse:"Adresse précise du client",wilaya:"Wilaya",commune:"Commune",numPiece:"Numéro de la piece d'identité",typePiece:"Type de la piece d'identité",telephone:"Téléphone",fax:"Fax",email:"E-mail"},en:{headerstep:"Company Information",numfacture:"N° Facture",firstname:"FisrtName",lastname:"LastName",dateNaissance:"date of birth",adresse:"Precise address",wilaya:"Wilaya",commune:"Commune",numPiece:"Identite Number",typePiece:"Identite Type",telephone:"Phone",fax:"Fax",email:"E-mail"}}),v=(0,ul.iH)([{label:"Permis de conduire",value:"CP"},{label:"Passport",value:"PASSPORT"},{label:"Carte national",value:"CN"}]),_=(0,ul.iH)(),$=(0,ul.iH)(""),f=(0,ul.iH)(""),h=(0,ul.iH)(""),g=(0,ul.iH)(""),y=(0,ul.iH)(""),b=(0,ul.iH)(""),C=(0,ul.iH)(""),w=(0,ul.iH)(""),k=(0,ul.iH)(""),x=(0,ul.iH)(!1),V=(0,ul.iH)(s.state.user.localeLang),A=(0,ul.iH)([]),U=(0,ul.iH)(null),W=(0,ul.qj)({});var D=(0,ul.iH)([]);const T=(0,ul.iH)({nbr_tranche:"",num_tranche:0,fact_client:"",prix_prevue:0,prochaine_rdv_prevue:new Date,prix_realise:0,prochaine_rdv_realise:new Date});async function P(e){await _l.Z.get("/facture-client/?canvas=true&num_facture="+e+"&limit=100").then((e=>{D.value=e.data[0]})).catch((e=>{console.log(e.response.data)}));var l=0,a=0;0!=D.value.tranches_data.length&&(l=D.value.last_tranche.nbr_tranche,a=D.value.last_tranche.num_tranche);var n=D.value.last_tranche.fact_client;D.value["new_tranche"]=T,D.value.new_tranche.prochaine_rdv_prevue=D.value.last_tranche.prochaine_rdv_prevue,D.value.new_tranche.prix_prevue=D.value.last_tranche.prix_prevue,D.value.new_tranche.nbr_tranche=l,D.value.new_tranche.num_tranche=parseInt(a)+1,D.value.new_tranche.fact_client=n,console.log(D.value),r.value=!0}function N(){t.value.commune.$model="";let e="";""!=t.value.wilaya.$model&&(e=t.value.wilaya.$model),_l.Z.get("/algeria-cities/?wilaya_code="+e).then((e=>{console.log(e.data.results),A.value=e.data.results,A.value.sort(((e,l)=>e.id>l.id))})).catch((e=>{}))}function L(){_l.Z.get("/client/?num_piece="+t.value.num_piece.$model+"&limit=1").then((e=>{"message"in e.data?(t.value.type_piece.$model="",t.value.nom.$model="",t.value.prenom.$model="",t.value.phoneClient.$model="",t.value.faxClient.$model="",t.value.date_naissance.$model="",t.value.emailClient.$model="",t.value.adresseClient.$model="",t.value.wilaya.$model="",t.value.commune.$model=""):(t.value.type_piece.$model=e.data.type_piece,t.value.nom.$model=e.data.nom,t.value.prenom.$model=e.data.prenom,t.value.phoneClient.$model=e.data.phoneClient,t.value.faxClient.$model=e.data.faxClient,t.value.date_naissance.$model=e.data.date_naissance,t.value.emailClient.$model=e.data.emailClient,t.value.adresseClient.$model=e.data.adresse,_l.Z.get("/algeria-cities/?id="+e.data.algeria_cities+"&limit=1").then((e=>{t.value.wilaya.$model=e.data.wilaya_code,t.value.commune.$model=e.data.id,N()})).catch((e=>{console.log(e.response.data)})))})).catch((e=>{console.log(e.response.data)}))}function H(){t.value.$invalid?x.value=!0:(console.log(D.value.tranches_data,"5555555555"),_l.Z.put("/tranches/",D.value.tranches_data).then((e=>{setTimeout((()=>{r.value=!1}),500),m.add({severity:"success",summary:"Successful",detail:"les Tranche on à étés modifier avec succée",life:1e3})})).catch((e=>{errormessage.value=e.response.data,m.add({severity:"error",summary:"Error",detail:"Echec de modification de la tranches : "+e.message+" :\n"+errormessage.value,life:4e3})})),r.value=!0)}function F(){d.value[0]+d.value[1]==="AP"||d.value[0]+d.value[1]==="LC"||d.value[0]+d.value[1]==="PS"?_l.Z.get("/facture-clients/?num_facture="+d.value).then((e=>{console.log(e),e.data.results[0]!=[]?(t.value.type_piece.$model=e.data.results[0].client.type_piece,t.value.num_piece.$model=e.data.results[0].client.num_piece,t.value.nom.$model=e.data.results[0].client.nom,t.value.prenom.$model=e.data.results[0].client.prenom,t.value.phoneClient.$model=e.data.results[0].client.phoneClient,t.value.faxClient.$model=e.data.results[0].client.faxClient,t.value.date_naissance.$model=e.data.results[0].client.date_naissance,t.value.emailClient.$model=e.data.results[0].client.emailClient,t.value.adresseClient.$model=e.data.results[0].client.adresseClient,t.value.wilaya.$model=e.data.results[0].client.algeriaCities_m.wilaya_code,t.value.commune.$model=e.data.results[0].client.algeriaCities_m.commune.toString(),m.add({severity:"success",summary:"Successful",detail:"Le N° de facture "+d.value+" à été bien retrouver",life:3e3})):(t.value.type_piece.$model="",t.value.num_piece.$model="",t.value.nom.$model="",t.value.prenom.$model="",t.value.phoneClient.$model="",t.value.faxClient.$model="",t.value.date_naissance.$model="",t.value.emailClient.$model="",t.value.adresseClient.$model="",t.value.wilaya.$model="",t.value.commune.$model="",m.add({severity:"error",summary:"Error",detail:"veuillez-vous saisire le bon N° de Facture ! ",life:4e3}))})).catch((e=>{t.value.nom.$model="",t.value.type_piece.$model="",t.value.num_piece.$model="",t.value.nom.$model="",t.value.prenom.$model="",t.value.phoneClient.$model="",t.value.faxClient.$model="",t.value.date_naissance.$model="",t.value.emailClient.$model="",t.value.adresseClient.$model="",t.value.wilaya.$model="",t.value.commune.$model="",m.add({severity:"error",summary:"Error",detail:"veuillez-vous saisire le bon N° de Facture ! "+e,life:4e3})})):(d[0]+d[1]=="PS"||d[0]+d[1]=="LC")&&_l.Z.get("/facture-client/").then((e=>{})).catch((e=>{console.log(e.response.data)}))}function z(){if(console.log("eeeeeeeeeeeeeee"),void 0!=_.value)var e=_.value.toString().indexOf("00Z");-1===e&&(_.value=_.value.toISOString()),W.value={nom:t.value.nom.$model,prenom:t.value.prenom.$model,type_piece:t.value.type_piece.$model,num_piece:t.value.num_piece.$model,phoneClient:t.value.phoneClient.$model,faxClient:t.value.faxClient.$model,date_naissance:t.value.date_naissance.$model,emailClient:t.value.emailClient.$model,adresse:t.value.adresseClient.$model,algeria_cities:t.value.commune.$model},t.value.$invalid?x.value=!0:l("nextpage",{formData:{client:W.value},pageIndex:0})}const I=(0,n.Fl)((()=>({a:{validator:e=>/^[A-Z]$/.test(e),casing:"upper"}}))),q=(0,ul.iH)(!0);function E(){d.value="",t.value.nom.$model="",t.value.type_piece.$model="",t.value.num_piece.$model="",t.value.nom.$model="",t.value.prenom.$model="",t.value.phoneClient.$model="",t.value.faxClient.$model="",t.value.date_naissance.$model="",t.value.emailClient.$model="",t.value.adresseClient.$model="",t.value.wilaya.$model="",t.value.commune.$model="",D.value=[],r.value=!1}return{cancelTranche:E,nom:$,prenom:f,type_piece:g,num_piece:h,options:u,modeSearch:c,maskRules:I,modifierLock:q,date_naissance:_,algeria_cities:C,Client:i,vAdd$:t,rulesClient:a,phoneClient:w,addTranche:H,showTrancheInput:r,emailClient:b,showDialogueTranche:P,new_tranche:T,dataTranche:D,faxClient:k,disabled:o,adresseClient:y,submitted:x,nextPage1:z,getCommuneByWilaya:N,getClientExist:L,Wilayas:vl,wilaya:U,communesByWilaya:A,...(0,ul.BK)(p),localeLang:V,getFactureExist:F,numFacture:d,typePieceClass:v}}}),gl=a(3744);const yl=(0,gl.Z)(hl,[["render",ml]]);var bl=yl}}]);
//# sourceMappingURL=710.0ce5d4b9.js.map