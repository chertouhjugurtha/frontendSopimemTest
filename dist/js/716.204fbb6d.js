"use strict";(self["webpackChunksopimem"]=self["webpackChunksopimem"]||[]).push([[716],{1716:function(e,l,a){a.r(l),a.d(l,{default:function(){return ce}});var o=a(6252),t=a(3577);const i=e=>((0,o.dD)("data-v-a9126fc8"),e=e(),(0,o.Cn)(),e),n={class:"stepsdemo-content"},r=(0,o.Uk)(" Informations sur l'états des tranches non régler "),d={class:"flex justify-content align-items-center"},s={class:"p-input-icon-left"},p=i((()=>(0,o._)("i",{class:"pi pi-search"},null,-1))),c=i((()=>(0,o._)("div",{class:"flex justify-content-between"},null,-1))),u={key:0,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#9DC08B",padding:"15px"}},m={key:1,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#EB455F",padding:"15px"}},g={key:2,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#EB455FC7",padding:"15px"}},f={key:0,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#EB455FC7",padding:"15px"}},v={key:1,style:{"border-radius":"2rem",padding:"15px"}},w={style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#9DC08B",padding:"15px"}},h={key:0,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#EB455FC7",padding:"15px"}},_={key:1,style:{"border-radius":"2rem",padding:"15px"}},b={key:0,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#EB455FC7",padding:"15px"}},y={key:1,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"rgb(235, 69, 95)",padding:"15px"}},V={key:2,style:{"border-radius":"2rem",color:"#F1F6F5","background-color":"#9DC08B",padding:"15px"}},F={class:"template"},x=i((()=>(0,o._)("i",{class:"pi pi-check px-2 py-3"},null,-1))),S=i((()=>(0,o._)("span",{class:"px-4"},"Régler",-1))),D={class:"template mt-2"},k=i((()=>(0,o._)("i",{class:"pi pi-trash px-2 py-3"},null,-1))),W=i((()=>(0,o._)("span",{class:"px-4"},"Supprimer",-1))),C=i((()=>(0,o._)("br",null,null,-1))),L={class:"formgrid grid"},U={class:"field col"},R={class:"p-float-label"},T={for:"name"},A={class:"field col"},P={class:"p-float-label"},z=i((()=>(0,o._)("label",{for:"prenom"},"Montant HT",-1))),j={class:"formgrid grid"},I={class:"field col"},H={class:"p-float-label"},M=i((()=>(0,o._)("label",{for:"prenom"},"T.V.A. 9%",-1))),Z={class:"field col-12 md:col-4",style:{"padding-top":"10px"}},B={class:"p-float-label"},E=i((()=>(0,o._)("label",{for:"dropdown"},"T.V.A. 9%",-1))),N={class:"field col-12 md:col-4",style:{"padding-top":"10px"}},q={class:"p-float-label"},G=i((()=>(0,o._)("label",{for:"dropdown"},"Situation Foncier",-1))),O={class:"field col-12 md:col-4",style:{"padding-top":"10px"}},Y={class:"p-float-label"},K=i((()=>(0,o._)("label",{for:"dropdown"},"LieuImplantation",-1))),J={class:"field col-12 md:col-6",style:{"padding-top":"10px"}},Q={class:"p-float-label"},X=i((()=>(0,o._)("label",{for:"dropdown"},"Wilaya",-1))),$={class:"field col-12 md:col-6",style:{"padding-top":"10px"}},ee={class:"p-float-label"},le=i((()=>(0,o._)("label",{for:"dropdown"},"Commune",-1)));function ae(e,l,a,i,ae,oe){const te=(0,o.up)("InputText"),ie=(0,o.up)("Column"),ne=(0,o.up)("Button"),re=(0,o.up)("DataTable"),de=(0,o.up)("Card"),se=(0,o.up)("Dropdown"),pe=(0,o.up)("Dialog"),ce=(0,o.up)("Toast"),ue=(0,o.up)("ConfirmDialog");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(de,null,{title:(0,o.w5)((()=>[r])),content:(0,o.w5)((()=>[(0,o.Wm)(re,{value:i.classes,editMode:"row",rows:10,paginator:!0,rowsPerPageOptions:[10,25,50],filters:i.filters,editingRows:i.editingRows,"onUpdate:editingRows":l[1]||(l[1]=e=>i.editingRows=e),paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",onRowEditSave:i.onRowEditSave,responsiveLayout:"scroll"},{header:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o._)("span",s,[p,(0,o.Wm)(te,{modelValue:i.filters["global"].value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.filters["global"].value=e),placeholder:"Recherche ... "},null,8,["modelValue"])])]),c])),default:(0,o.w5)((()=>[(0,o.Wm)(ie,{field:"client",header:"Client",style:{width:"20%"}},{body:(0,o.w5)((({data:e})=>[(0,o.Uk)((0,t.zw)(e.tranche_client.prenom)+" "+(0,t.zw)(e.tranche_client.nom),1)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"N°Fact/N°Tranche",style:{width:"20%"}},{body:(0,o.w5)((({data:e})=>[(0,o.Uk)((0,t.zw)(e.tranche_client.num_facture)+"/"+(0,t.zw)(e.tranche_client.num_tranche),1)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"Téléphone",style:{width:"23%"}},{body:(0,o.w5)((({data:e})=>[(0,o.Uk)((0,t.zw)(e.tranche_client.telephone),1)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"Prix Réalisé",style:{width:"23%"}},{body:(0,o.w5)((({data:e})=>[parseFloat(e.prix_prevue).toLocaleString("fr-FR")===parseFloat(e.prix_realise).toLocaleString("fr-FR")?((0,o.wg)(),(0,o.iD)("span",u,(0,t.zw)(parseFloat(e.prix_realise).toLocaleString("fr-FR"))+"DZD ",1)):parseFloat(e.prix_prevue).toLocaleString("fr-FR")>parseFloat(e.prix_realise).toLocaleString("fr-FR")?((0,o.wg)(),(0,o.iD)("span",m,(0,t.zw)(parseFloat(e.prix_realise).toLocaleString("fr-FR"))+"DZD ",1)):parseFloat(e.prix_prevue).toLocaleString("fr-FR")<parseFloat(e.prix_realise).toLocaleString("fr-FR")?((0,o.wg)(),(0,o.iD)("span",g,(0,t.zw)(parseFloat(e.prix_realise).toLocaleString("fr-FR"))+"DZD ",1)):(0,o.kq)("",!0)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"Date Réalisé",style:{width:"15%"}},{body:(0,o.w5)((({data:e})=>[e.prochaine_rdv_prevue.split("T")[0]<e.prochaine_rdv_realise.split("T")[0]?((0,o.wg)(),(0,o.iD)("span",f,(0,t.zw)(e.prochaine_rdv_realise.split("T")[0]),1)):((0,o.wg)(),(0,o.iD)("span",v,(0,t.zw)(e.prochaine_rdv_realise.split("T")[0]),1))])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"Prix prévue",style:{width:"23%"}},{body:(0,o.w5)((({data:e})=>[(0,o._)("span",w,(0,t.zw)(parseFloat(e.prix_prevue).toLocaleString("fr-FR"))+"DZD ",1)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"client",header:"Date prévue",style:{width:"15%"}},{body:(0,o.w5)((({data:e})=>[e.prochaine_rdv_prevue.split("T")[0]<e.prochaine_rdv_realise.split("T")[0]?((0,o.wg)(),(0,o.iD)("span",h,(0,t.zw)(e.prochaine_rdv_prevue.split("T")[0]),1)):((0,o.wg)(),(0,o.iD)("span",_,(0,t.zw)(e.prochaine_rdv_prevue.split("T")[0]),1))])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(ie,{field:"status",header:"Status",style:{width:"15%"}},{body:(0,o.w5)((({data:e})=>["dette"===e.status?((0,o.wg)(),(0,o.iD)("span",b," Dette ")):"retard"===e.status?((0,o.wg)(),(0,o.iD)("span",y," Retard ")):"regler"==e.status?((0,o.wg)(),(0,o.iD)("span",V," Régler ")):(0,o.kq)("",!0)])),filter:(0,o.w5)((({filterModel:e})=>[(0,o.Wm)(te,{type:"text",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.selectedColumns,((e,l)=>((0,o.wg)(),(0,o.j4)(ie,{field:e.field,header:e.header,key:e.field+"_"+l,sortable:!0,style:{"white-space":"normal !important"}},{editor:(0,o.w5)((({data:e,field:l})=>[(0,o.Wm)(te,{modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","header"])))),128)),(0,o.Wm)(ie,{style:{"min-width":"8rem"},bodyStyle:"text-align:left",header:""},{body:(0,o.w5)((e=>[(0,o._)("div",F,[(0,o.Wm)(ne,{class:"vimeo p-0 h-3rem w-9rem","aria-label":"Vimeo",onClick:l=>i.ReglerDialogue(e.data)},{default:(0,o.w5)((()=>[x,S])),_:2},1032,["onClick"])]),(0,o._)("div",D,[(0,o.Wm)(ne,{class:"youtube p-0 h-3rem w-9rem","aria-label":"Youtube",onClick:l=>i.DeleteDialogue(e.data)},{default:(0,o.w5)((()=>[k,W])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["value","filters","editingRows","onRowEditSave"])])),_:1}),(0,o.Wm)(pe,{visible:i.productDialog3,"onUpdate:visible":l[10]||(l[10]=e=>i.productDialog3=e),style:{width:"700px"},header:"Ajouter un nouveaux site",modal:!0,class:"p-fluid"},{footer:(0,o.w5)((()=>[(0,o.Wm)(ne,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:i.addSite},null,8,["onClick"])])),default:(0,o.w5)((()=>[C,(0,o._)("div",L,[(0,o._)("div",U,[(0,o._)("span",R,[(0,o.Wm)(te,{id:"name",modelValue:i.newSite.nomPrenom,"onUpdate:modelValue":l[2]||(l[2]=e=>i.newSite.nomPrenom=e),disabled:"true"},null,8,["modelValue"]),(0,o._)("label",T,(0,t.zw)(e.nom_prenom),1)])]),(0,o._)("div",A,[(0,o._)("span",P,[(0,o.Wm)(te,{id:"prenom",modelValue:i.newSite.montantHt,"onUpdate:modelValue":l[3]||(l[3]=e=>i.newSite.montantHt=e)},null,8,["modelValue"]),z])])]),(0,o._)("div",j,[(0,o._)("div",I,[(0,o._)("span",H,[(0,o.Wm)(te,{id:"prenom",modelValue:i.newSite.tva9,"onUpdate:modelValue":l[4]||(l[4]=e=>i.newSite.tva9=e)},null,8,["modelValue"]),M])]),(0,o._)("div",Z,[(0,o._)("span",B,[(0,o.Wm)(se,{id:"dropdown",modelValue:e.SecteurActivite,"onUpdate:modelValue":l[5]||(l[5]=l=>e.SecteurActivite=l),options:e.SecteurActivite,optionLabel:"name"},null,8,["modelValue","options"]),E])]),(0,o._)("div",N,[(0,o._)("span",q,[(0,o.Wm)(se,{id:"dropdown",modelValue:e.SituationFoncier,"onUpdate:modelValue":l[6]||(l[6]=l=>e.SituationFoncier=l),options:e.SituationFoncier,optionLabel:"name"},null,8,["modelValue","options"]),G])]),(0,o._)("div",O,[(0,o._)("span",Y,[(0,o.Wm)(se,{id:"dropdown",modelValue:e.LieuImplantation,"onUpdate:modelValue":l[7]||(l[7]=l=>e.LieuImplantation=l),options:e.LieuImplantation,optionLabel:"name"},null,8,["modelValue","options"]),K])]),(0,o._)("div",J,[(0,o._)("span",Q,[(0,o.Wm)(se,{id:"dropdown",modelValue:e.Wilaya,"onUpdate:modelValue":l[8]||(l[8]=l=>e.Wilaya=l),options:e.Wilaya,optionLabel:"name"},null,8,["modelValue","options"]),X])]),(0,o._)("div",$,[(0,o._)("span",ee,[(0,o.Wm)(se,{id:"dropdown",modelValue:e.Commune,"onUpdate:modelValue":l[9]||(l[9]=l=>e.Commune=l),options:e.Commune,optionLabel:"name"},null,8,["modelValue","options"]),le])])])])),_:1},8,["visible"]),(0,o.Wm)(ce),(0,o.Wm)(ue)])}var oe=a(2262),te=a(7877),ie=a(9201),ne=a(1039),re=a(6358),de={name:"Productions",emits:["nextpage","prevpage"],setup(e,{emit:l}){const a=(0,ne.N)(),o=(0,oe.iH)(!1),t=(0,oe.iH)(null),i=(0,oe.qj)({"Dénomination":"","Abréviation":"",SecteurActivite:"",SituationFoncier:"","siègeSocial":"",Wilaya:"",Commune:"",LieuImplantation:""}),n=(0,oe.iH)([]);(0,oe.qj)([{"Dénomination":"Cevital Group","Abréviation":"civitale",SecteurActivite:"chiemie",SituationFoncier:"Location","siègeSocial":"alger centre",Wilaya:"alger",Commune:"kouba",LieuImplantation:"ZA"},{"Dénomination":"Cevital Group1","Abréviation":"civitale",SecteurActivite:"chiemie",SituationFoncier:"Location","siègeSocial":"alger centre",Wilaya:"alger",Commune:"kouba",LieuImplantation:"ZA"},{"Dénomination":"Cevital Group2","Abréviation":"civitale",SecteurActivite:"chiemie",SituationFoncier:"Location","siègeSocial":"alger centre",Wilaya:"alger",Commune:"kouba",LieuImplantation:"ZA"}]);const r=(0,oe.iH)(null),d=(0,oe.iH)(null),s=(0,oe.iH)(""),p=(0,oe.iH)([]),c=(0,ie.p)(),u=(0,oe.iH)({global:{value:null,matchMode:re.a6.CONTAINS}});function m(e){console.log("event mmm",e)}function g(){o.value=!0}function f(){console.log("gerant:",i),n.push(i),console.log("gerant:",n),o.value=!1}function v(){console.log("object"),l("nextpage",{formData:{},pageIndex:2})}function w(){l("prevpage",{pageIndex:2})}function h(e){let{newData:l,index:a}=e;n[a]=l}function _(){te.Z.get("/tranches-impaye/?limit=100").then((e=>{n.value=e.data.results,console.log(n.value,"11111")})).catch((e=>{console.log(e.response.data)}))}function b(e){t=d.filter((l=>e.includes(l)))}function y(e){t=e.checked?n.map((e=>e.value)):[]}function V(e){let l=e;delete l.reglageTranche,l.has_oppend=!0,l.prix_realise=l.prix_prevue,l.prochaine_rdv_realise=l.prochaine_rdv_prevue,l.status="regler",te.Z.put("/tranches-impaye/",{params:l}).then((e=>{console.log(e.data),_(),c.add({severity:"success",summary:"Successful",detail:"La tranche à été bien régler",life:3e3})})).catch((e=>console.log(e))),console.log(e)}function F(e){let l=e;delete l.reglageTranche,l.has_oppend=!0,l.prix_realise=l.prix_prevue,l.prochaine_rdv_realise=l.prochaine_rdv_prevue,l.status="regler",te.Z.put("/tranches-impaye/"+l.id+"/delete-tranche/",{params:l}).then((e=>{_(),c.add({severity:"success",summary:"Successful",detail:"La tranche à été bien régler et bien supprimer",life:3e3})})).catch((e=>console.log(e)))}function x(e){a.require({message:"Voullez-vous régler cette tranche?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-warning",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{V(e)},reject:()=>{c.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})}function S(e){a.require({message:"Voullez-vous régler et supprimer cette notification?",header:"Confirmation",icon:"pi pi-exclamation-circle",acceptClass:"p-button-danger",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{F(e)},reject:()=>{c.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})}return _(),{editingRows:r,ReglerDialogue:x,DeleteDialogue:S,filters:u,tranchesImpye:p,classes:n,selectedColumns:t,columns:d,selectedSeat:s,nextPage1:v,prevPage1:w,onRowEditSave:h,onSelectAllChange:y,onToggle:b,openNew:g,newSite:i,addSite:f,DeleteG:m,productDialog3:o}}},se=a(3744);const pe=(0,se.Z)(de,[["render",ae],["__scopeId","data-v-a9126fc8"]]);var ce=pe}}]);
//# sourceMappingURL=716.204fbb6d.js.map